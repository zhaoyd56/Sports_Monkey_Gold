System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,u,r,t,e,a,n,c,s;return{setters:[function(o){i=o.applyDecoratedDescriptor,u=o.inheritsLoose,r=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){e=o.cclegacy,a=o._decorator,n=o.AudioClip,c=o.AudioSource,s=o.Component}],execute:function(){var d,p,l,h,_;e._RF.push({},"9c2b7b7WHZHeKB04iC28M+/","AudioManager",void 0);var f=a.ccclass,S=a.property,y=["bgm","click","countdown","fail","pass_end","ready_go","run","slow_down","speed_up","win"];o("AudioManager",(d=f("AudioManager"),p=S(n),d((_=i((h=function(o){function i(){for(var i,u=arguments.length,e=new Array(u),a=0;a<u;a++)e[a]=arguments[a];return i=o.call.apply(o,[this].concat(e))||this,r(i,"audioArr",_,t(i)),i._audioSource=null,i}u(i,o);var e=i.prototype;return e.start=function(){this._audioSource=this.node.getComponent(c)},e.update=function(o){},e.playOneShot=function(o,i){void 0===i&&(i=1);var u=y.indexOf(o);u<0||this.audioArr[u]&&this._audioSource.playOneShot(this.audioArr[u],i)},e.play=function(o,i){void 0===i&&(i=1),this.audioArr[o]&&(this._audioSource.stop(),this._audioSource.clip=this.audioArr[o],this._audioSource.play(),this._audioSource.volume=i)},e.playBgm=function(){this.audioArr[0]&&(this._audioSource.stop(),this._audioSource.clip=this.audioArr[0],this._audioSource.loop=!0,this._audioSource.play(),this._audioSource.volume=1)},e.stop=function(){this._audioSource.stop()},e.pause=function(){this._audioSource.pause()},e.resume=function(){this._audioSource.play()},i}(s)).prototype,"audioArr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=h))||l));e._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseMedal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./GameManager.ts"],(function(e){var t,n,r,i,a,o,l,u,c,s,d,p,f,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,u=e.Label,c=e.Sprite,s=e.Graphics,d=e.Color,p=e.find,f=e.Component},function(e){g=e.GlobalEvent},function(e){h=e.GameManager}],execute:function(){var M,m,b,C,v,y,T,B,E,k,A;a._RF.push({},"1163c3uzHZMjLSmDJpEbFaj","ChoseMedal",void 0);var z=o.ccclass,w=o.property;e("ChoseMedal",(M=z("ChoseMedal"),m=w(l),b=w(l),C=w(u),v=w(c),M((B=t((T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"maskBg",B,i(t)),r(t,"btnMedalArr",E,i(t)),r(t,"medalCount",k,i(t)),r(t,"icMedal",A,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.initMaskBg(),this.initMedal()},a.update=function(e){},a.initMaskBg=function(){var e=this.maskBg.getComponent(s);e.clear(),e.lineWidth=5,e.strokeColor=d.BLUE;var t=-150,n=-175;e.moveTo(-100,n),e.lineTo(100,n),e.quadraticCurveTo(150,n,150,-125),e.lineTo(150,125),e.quadraticCurveTo(150,175,100,175),e.lineTo(-100,175),e.quadraticCurveTo(t,175,t,125),e.lineTo(t,-125),e.quadraticCurveTo(t,n,-100,n),e.stroke(),e.fill()},a.setBtnMedal=function(e){e>=0&&e<this.btnMedalArr.length&&(this.btnMedalArr[e].getComponent(c).color=new d(225,215,182,235))},a.onBtnMedal=function(e,t){if(t){var n=parseInt(t);n>=0&&n<this.btnMedalArr.length&&(g.inst.emit("GAMEUI_CHOSEMEDAL",n),this.node.destroy())}},a.initMedal=function(){var e=p("gameManager").getComponent(h)._betMedalCount;if(e.length==this.medalCount.length){this.medalCount.forEach((function(t,n){t.string=e[n].toString()}));var t=p("gameManager").getComponent(h).getMedalSF();this.icMedal.forEach((function(e,n){e.spriteFrame=t}))}},t}(f)).prototype,"maskBg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"btnMedalArr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(T.prototype,"medalCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(T.prototype,"icMedal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=T))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"73216gYjxZKjoBsVpKgQf+J","Constants",void 0);var N=E("Constants",(function(){}));N.US_NULL=0,N.US_FREE=1,N.US_PLAYING=5,N.GAMESERVER_ADDR="wss://game.brwin888.com:9003",N.LEN_ACCOUNTS=32,N.LEN_PASSWORD=33,N.LEN_TOKEN=512,N.PROPS_TIME=5,N.RUNWAY_LENGTH=4500,N.ENDLINE_X=4120,N.MONKEYME_SPEED=260,N.MONKEY_SPEED=[200,290],N.BETMEDAL_COUNT=[1e4,1e5,1e6],N.PROPITEM_POSRANGE=[1500,2620],N.PLAYER_NAME=["monkeyName1","monkeyName2","monkeyName3","monkeyName4","monkeyName5","monkeyName6"],N.MONKEY_STATE={IDLE:0,RUN:1,WALK:2},e._RF.pop()}}}));

System.register("chunks:///_virtual/DataBuffer.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"2c342OyEetIQrGLnWfMTzuW","DataBuffer",void 0);t("DataBuffer",function(){function t(){this.littleEndian=!1,this.rpos=0,this.wpos=0,this.buffer=null,this.utf8ArrayToString=function(t){var i,e,n,r,s,a;for(i="",n=t.length,e=0;e<n;)switch((r=t[e++])>>4){case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(r);break;case 12:case 13:s=t[e++],i+=String.fromCharCode((31&r)<<6|63&s);break;case 14:s=t[e++],a=t[e++],i+=String.fromCharCode((15&r)<<12|(63&s)<<6|(63&a)<<0)}return i}}var i=t.prototype;return i.init=function(t){if(t instanceof ArrayBuffer){var i=new Uint8Array(this.buffer),e=new Uint8Array(t),n=new ArrayBuffer(i.byteLength+e.byteLength),r=new Uint8Array(n);r.set(i,0),r.set(e,i.byteLength),this.rpos=0,this.buffer=n}else this.wpos=0,this.buffer=new ArrayBuffer(t)},i.readSucc=function(t){this.buffer=this.buffer.slice(t),this.rpos=0},i.readFail=function(){this.rpos=0},i.resetBuffer=function(){this.buffer=null,this.rpos=0},i.getBuffer=function(){return this.buffer},i.getByteSize=function(){return this.buffer.byteLength-this.rpos},i.readByte=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=1,t.getUint8(0)},i.readWord=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=2,t.getUint16(0,this.littleEndian)},i.readInt=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=4,t.getInt32(0,this.littleEndian)},i.readUInt=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=4,t.getUint32(0,this.littleEndian)},i.readInt64=function(){var t=new DataView(this.buffer,this.rpos),i=t.getInt32(0),e=t.getUint32(4);return this.littleEndian&&(e=t.getUint32(0,!0),i=t.getInt32(4,!0)),this.rpos+=8,4294967296*i+e},i.readUInt64=function(){var t=new DataView(this.buffer,this.rpos),i=t.getUint32(0),e=t.getUint32(4);return this.littleEndian&&(e=t.getUint32(0,!0),i=t.getUint32(4,!0)),this.rpos+=8,4294967296*i+e},i.readFloat=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=4,t.getFloat32(0,this.littleEndian)},i.readDouble=function(){var t=new DataView(this.buffer,this.rpos);return this.rpos+=8,t.getFloat64(0,this.littleEndian)},i.readString=function(t){var i=new DataView(this.buffer,this.rpos);if(2*t>i.byteLength)return console.error("====readstring over buffer length"),"";for(var e="",n=0;n<t&&0!=i.getUint16(2*n,this.littleEndian);n++)e+=String.fromCharCode(i.getUint16(2*n,this.littleEndian));return this.rpos+=2*t,e},i.readStringUTF8=function(t){var i=new Uint8Array(this.buffer,this.rpos,t);return t&&(this.rpos+=t),this.utf8ArrayToString(i)},i.writeByte=function(t){new DataView(this.buffer,this.wpos).setUint8(0,t),this.wpos+=1},i.writeWord=function(t){new DataView(this.buffer,this.wpos).setUint16(0,t,this.littleEndian),this.wpos+=2},i.writeInt=function(t){new DataView(this.buffer,this.wpos).setInt32(0,t,this.littleEndian),this.wpos+=4},i.writeUInt=function(t){new DataView(this.buffer,this.wpos).setUint32(0,t,this.littleEndian),this.wpos+=4},i.writeInt64=function(t){var i=new DataView(this.buffer,this.wpos),e=Math.floor(t/4294967296),n=4294967295&t;this.littleEndian?(i.setUint32(0,n,!0),i.setInt32(4,e,!0)):(i.setInt32(0,e),i.setUint32(4,n)),this.wpos+=8},i.writeUInt64=function(t){var i=new DataView(this.buffer,this.wpos),e=Math.floor(t/4294967296),n=4294967295&t;this.littleEndian?(i.setUint32(0,n,!0),i.setUint32(4,e,!0)):(i.setUint32(0,e),i.setUint32(4,n)),this.wpos+=8},i.writeFloat=function(t){new DataView(this.buffer,this.wpos).setFloat32(0,t,this.littleEndian),this.wpos+=4},i.writeDouble=function(t){new DataView(this.buffer,this.wpos).setFloat64(0,t,this.littleEndian),this.wpos+=8},i.writeString=function(t,i){var e=new DataView(this.buffer,this.wpos);if(2*i>e.byteLength)console.error("====writestring over buffer length");else{for(var n=0;n<i;n++)n<t.length?e.setUint16(2*n,t.charCodeAt(n),this.littleEndian):e.setUint16(2*n,0,this.littleEndian);this.wpos+=2*i}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Canvas,g=t.UITransform,h=t.instantiate,p=t.Label,c=t.Color,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[c.WHITE,c.BLACK,c.RED,c.GREEN,c.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(a)){var t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=h(s);l.parent=this.node,l.name="Buttons";var r=h(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=h(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(p);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=c.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?h(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=S;var x=h(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=h(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=h(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?h(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./HistoryItem.ts"],(function(t){var e,i,n,r,o,a,s,u,c,l,p,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Prefab,u=t.Node,c=t.Label,l=t.instantiate,p=t.Component},function(t){f=t.t},function(t){y=t.HistoryItem}],execute:function(){var h,d,m,v,b,g,H,C,w;o._RF.push({},"44ad2r0f09DWYSQ1G5f1rht","GameHistory",void 0);var x=a.ccclass,D=a.property;t("GameHistory",(h=x("GameHistory"),d=D(s),m=D(u),v=D(u),h((H=e((g=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"historyItem",H,r(e)),n(e,"exitNode",C,r(e)),n(e,"viewContent",w,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.exitNode.getComponent(c).string="< "+f("myRecord"),this.exitNode.on(u.EventType.TOUCH_END,this.onExit,this)},o.update=function(t){},o.onExit=function(){this.node.destroy()},o.initHistoryItem=function(t){var e=this;t&&t.forEach((function(i,n){var r=l(e.historyItem);r.getComponent(y).initData(t[n]),e.viewContent.addChild(r)}))},e}(p)).prototype,"historyItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(g.prototype,"exitNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(g.prototype,"viewContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTip.ts","./GameSocket.ts","./Constants.ts"],(function(e){var t,n,i,a,r,o,s,c,u,l,p,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Prefab,c=e.SpriteFrame,u=e.find,l=e.instantiate,p=e.Component},function(e){f=e.GameTip},function(e){h=e.gameSocket},function(e){m=e.Constants}],execute:function(){var _,d,g,M,D,v,C;r._RF.push({},"589b01AoIlHBZnwV+Fqe8QM","GameManager",void 0);var U=o.ccclass,y=o.property;e("GameManager",(_=U("GameManager"),d=y(s),g=y(c),_((v=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"gameTipPre",v,a(t)),i(t,"icMedalSFArr",C,a(t)),t._UserID=0,t._jwtToken="",t._UserScore=0,t._FaceID=0,t._token="",t._accounts="",t._gameUID="",t._betMedalCount=[],t._gameMode=1,t}n(t,e);var r=t.prototype;return r.start=function(){this.parseUrlData(),h.initSocket(this._token),this.initBetMedalCount()},r.update=function(e){},r.showTip=function(e){if(this.gameTipPre){var t=u("Canvas").getChildByName("game_tip");t&&t.destroy();var n=l(this.gameTipPre);u("Canvas").addChild(n),n.getComponent(f).showTip(e)}},r.setUserID=function(e){this._UserID=e},r.setUserEnterData=function(e,t){this._UserScore=e,this._FaceID=t},r.setUserAccountData=function(e,t){},r.parseUrlData=function(){var e=this,t=window.location.href.split("?")[1];t&&(t.split("&").forEach((function(t){var n=t.split("=");"token"==n[0]?e._token=n[1]:"game_uid"==n[0]?e._gameUID=n[1]:"mode"==n[0]&&(e._gameMode=parseInt(n[1]))})),this._token=this._token+"@"+this._gameUID)},r.initBetMedalCount=function(){this._betMedalCount=m.BETMEDAL_COUNT},r.getMedalSF=function(){return 1==this._gameMode?this.icMedalSFArr[0]:this.icMedalSFArr[1]},t}(p)).prototype,"gameTipPre",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"icMedalSFArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=D))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./LanguageData.ts"],(function(e){var r,t,n,a,i,o,l,c,u,s,p,y,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Node,c=e.Label,u=e.Prefab,s=e.instantiate,p=e.Component},function(e){y=e.Constants},function(e){f=e.t}],execute:function(){var m,d,b,g,h,k,v,A,N;i._RF.push({},"e8a03ZDfmFGDJ4iPr7S189+","GameRank",void 0);var P=o.ccclass,R=o.property;e("GameRank",(m=P("GameRank"),d=R(l),b=R(c),g=R(u),m((v=r((k=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"playerNodeArr",v,a(r)),n(r,"playerNameArr",A,a(r)),n(r,"monkeyPre",N,a(r)),r}t(r,e);var i=r.prototype;return i.start=function(){},i.update=function(e){},i.setRankData=function(e){var r=this;3==e.length&&e.forEach((function(e,t){r.playerNameArr[t].string=f(y.PLAYER_NAME[e-1]);var n=s(r.monkeyPre[e-1]);n&&(n.getChildByName("monkey").layer=r.node.layer,r.playerNodeArr[t].addChild(n))}))},r}(p)).prototype,"playerNodeArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=r(k.prototype,"playerNameArr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=r(k.prototype,"monkeyPre",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=k))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameRun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayersMgr.ts","./Constants.ts","./RunRank.ts","./GlobalEvent.ts"],(function(n){var t,e,i,r,o,a,s,u,l,c,R,y,f,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,s=n.Node,u=n.view,l=n.Animation,c=n.Component},function(n){R=n.PlayersMgr},function(n){y=n.Constants},function(n){f=n.RunRank},function(n){m=n.GlobalEvent}],execute:function(){var h,p,M,k,g,b,E,v,A,N,_;o._RF.push({},"c6253UnG11LRLUoBV/S3iQg","GameRun",void 0);var G=a.ccclass,d=a.property;n("GameRun",(h=G("GameRun"),p=d(s),M=d(R),k=d(s),g=d(f),h((v=t((E=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"monkeyMe",v,r(t)),i(t,"playerMgr",A,r(t)),i(t,"runCamera",N,r(t)),i(t,"runRank",_,r(t)),t._startRun=!1,t}e(t,n);var o=t.prototype;return o.start=function(){m.inst.on("GAMERUN_SHOWRANKANI",this.showRankAni,this),m.inst.on("GAMERUN_MERUN",this.monkeyMeStartRun,this)},o.onDestroy=function(){m.inst.off("GAMERUN_SHOWRANKANI"),m.inst.off("GAMERUN_MERUN")},o.update=function(n){if(this._startRun&&this.monkeyMe){var t=this.monkeyMe.getPosition(),e=this.runCamera.getPosition(),i=y.MONKEYME_SPEED*n;t.x+=i,e.x+=i;var r=y.RUNWAY_LENGTH-u.getDesignResolutionSize().x;t.x>=r&&(t.x=r,e.x=r,this.monkeyMeEndRun()),this.monkeyMe.setPosition(t),this.runCamera.setPosition(e)}},o.monkeyMeEndRun=function(){this._startRun=!1,this.monkeyMe.getComponent(l).play("idle")},o.startRun=function(n){var t=this;this.playerMgr.startRun(),this.playerMgr.generateRunTotalTime(n),setTimeout((function(){t.monkeyMeStartRun()}),1e3)},o.readyRun=function(){this.playerMgr.readyRun()},o.showRankAni=function(n){this.runRank.showRankAni(n)},o.monkeyMeStartRun=function(){this._startRun=!0,this.monkeyMe.getComponent(l).play("run")},o.resetGame=function(){this.runCamera.setPosition(0,0);var n=this.monkeyMe.getPosition();n.x=0,this.monkeyMe.setPosition(n),this.runRank.resetRank()},t}(c)).prototype,"monkeyMe",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"playerMgr",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(E.prototype,"runCamera",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"runRank",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./GameRun.ts","./GameUI.ts","./GlobalEvent.ts","./GameRank.ts","./GuessResult.ts","./GameSocket.ts","./GameManager.ts","./LanguageData.ts","./GameHistory.ts"],(function(e){var t,n,a,i,r,o,s,u,m,g,l,c,d,h,f,G,p,R,y,E,_,M,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,u=e.Prefab,m=e.find,g=e.instantiate,l=e.Animation,c=e.Component},function(e){d=e.AudioManager},function(e){h=e.GameRun},function(e){f=e.GameUI},function(e){G=e.GlobalEvent},function(e){p=e.GameRank},function(e){R=e.GuessResult},function(e){y=e.gameSocket,E=e.cmd},function(e){_=e.GameManager},function(e){M=e.t},function(e){S=e.GameHistory}],execute:function(){var C,b,w,I,U,v,A,N,P,k,T,L,D,H,B,z,K;r._RF.push({},"c25078TP0NJkInkqFWLXEyY","GameScene",void 0);var O=o.ccclass,Y=o.property;e("GameScene",(C=O("GameScene"),b=Y(s),w=Y(u),I=Y(h),U=Y(f),v=Y(u),A=Y(u),N=Y(u),C((T=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"gameView",T,i(t)),a(t,"readyGoPre",L,i(t)),a(t,"gameRunMgr",D,i(t)),a(t,"gameUIMgr",H,i(t)),a(t,"gameRankPre",B,i(t)),a(t,"guessResultPre",z,i(t)),a(t,"gameHistoryPre",K,i(t)),t.audioPalyer=null,t._runEndCount=0,t._runEnd=!1,t._gameRunResult=null,t._curGameReward=0,t._initGame=!1,t}n(t,e);var r=t.prototype;return r.start=function(){this.audioPalyer=m("audioManager").getComponent(d),this.audioPalyer.playBgm(),G.inst.on("GAMESCENE_TICKEND",this.tickEnd,this),G.inst.on("GAMESCENE_RUNEND",this.runEnd,this),G.inst.on("SOCKET_ONGAMEMESSAGE",this.onMessage,this),this.loginGame()},r.update=function(e){},r.onDestroy=function(){G.inst.off("GAMESCENE_TICKEND"),G.inst.off("GAMESCENE_RUNEND"),G.inst.off("SOCKET_ONGAMEMESSAGE")},r.loginGame=function(){var e=m("gameManager").getComponent(_)._token;y.send(E.CLogin,{LoginMethod:"thirdServer",Account:"",PassWord:"",Token:e})},r.tickEnd=function(){var e=this;this.gameRunMgr.readyRun(),setTimeout((function(){e.readyGo()}),2e3)},r.readyGo=function(){var e=this;if(this._gameRunResult){var t=g(this.readyGoPre);t&&(t.getComponent(l).on(l.EventType.FINISHED,(function(){e._runEndCount=0,e._runEnd=!1,e.gameRunMgr.startRun(e._gameRunResult),t.destroy()})),this.node.addChild(t),this.audioPalyer.playOneShot("ready_go"))}},r.runEnd=function(){this._runEnd||(this._runEndCount++,this._runEndCount>=6&&(this._runEnd=!0,this.showResult()))},r.showResult=function(){var e=this.gameUIMgr._betMedal;if(e>0){var t=g(this.guessResultPre);t&&(t.name="GUESSRESULTLAYER",this.node.addChild(t),t.getComponent(R).setResult(e,this._curGameReward)),this.gameUIMgr.updateMyScore()}else{var n=g(this.gameRankPre);n&&this._gameRunResult&&(n.name="GAMERANKLAYER",this.node.addChild(n),n.getComponent(p).setRankData(this._gameRunResult.slice(0,3)))}},r.onMessage=function(e,t){e==E.SLogin&&this.loginResult(t),e==E.SGameStart?this.initGame(t):e==E.SBet?this.onGameBet(t):e==E.SGameEnd?this.onGameStart(t):e==E.SUserRecord&&this.onGameHistory(t)},r.loginResult=function(e){var t=m("gameManager").getComponent(_);200!=e.code&&t.showTip(M("gameTipLogin")),t._UserScore=parseInt(e.data.score),t._UserID=e.data.user_id,t._jwtToken=e.data.jwt_token,this.gameUIMgr.updateMyScore()},r.initGame=function(e){var t=this.node.getChildByName("GUESSRESULTLAYER"),n=this.node.getChildByName("GAMERANKLAYER");t?t.destroy():n&&n.destroy(),this.gameRunMgr.resetGame(),this._gameRunResult=null,this._curGameReward=0,this.gameUIMgr.updateGameCalc(e.reward_runway_id),this.gameUIMgr.startGameTick(e.times),this.gameUIMgr.updateMatchNumber(parseInt(e.issue_id)),this._initGame=!0},r.onGameBet=function(e){if(200==e.code){var t=m("gameManager").getComponent(_),n=this.gameUIMgr._betCount;n>0&&(t._UserScore-=n,this.gameUIMgr.updateBetMedal(n),this.gameUIMgr.updateMyScore())}},r.onGameStart=function(e){var t=m("gameManager").getComponent(_);if(!this._initGame)return this.gameUIMgr.uiBottomBlack.active=!0,void t.showTip(M("gameTipWait"));t._UserScore=parseInt(e.balance),this._curGameReward=parseInt(e.reward_amount),this._gameRunResult=e.reward_runway_id,this.gameUIMgr.gameTickEnd()},r.onGameHistory=function(e){var t=this.node.getChildByName("GameHistoryView");t&&t.destroy(),(t=g(this.gameHistoryPre)).name="GameHistoryView",this.node.addChild(t),t.getComponent(S).initHistoryItem(e.data.recent_record)},t}(c)).prototype,"gameView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"readyGoPre",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"gameRunMgr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"gameUIMgr",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"gameRankPre",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"guessResultPre",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(k.prototype,"gameHistoryPre",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSocket.ts",["cc","./DataBuffer.ts","./Constants.ts","./GameManager.ts","./GlobalEvent.ts"],(function(e){var t,n,r,s,o,i;return{setters:[function(e){t=e.cclegacy,n=e.find},function(e){r=e.DataBuffer},function(e){s=e.Constants},function(e){o=e.GameManager},function(e){i=e.GlobalEvent}],execute:function(){t._RF.push({},"5a3487JgV9BeYTzjxA8XiZI","GameSocket",void 0);e("gameSocket",new(function(){function e(){this.socket=null,this.recvBuffer=null,this.sendBuffer=null,this.recvBuffer=new r,this.sendBuffer=new r}var t=e.prototype;return t.initSocket=function(e){this.socket=new WebSocket(s.GAMESERVER_ADDR+"?token="+e),this.socket.binaryType="arraybuffer",this.socket.onopen=this.onopen.bind(this),this.socket.onerror=this.onerror.bind(this),this.socket.onmessage=this.onmessage.bind(this),this.socket.onclose=this.onclose.bind(this)},t.send=function(e,t){if(this.socket&&this.socket.readyState===WebSocket.OPEN){var n=(new TextEncoder).encode(JSON.stringify(t)),r=new ArrayBuffer(4),s=new DataView(r);s.setInt32(0,e,!1);var o=new ArrayBuffer(4),i=new DataView(o);i.setInt32(0,n.byteLength,!1);var c=this.mergeArrayBuffers([s.buffer,i.buffer,n.buffer]);this.socket.send(c)}},t.mergeArrayBuffers=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;for(var r=new ArrayBuffer(t),s=new Uint8Array(r),o=0,i=0;i<e.length;i++){var c=e[i],f=new Uint8Array(c);s.set(f,o),o+=f.byteLength}return r},t.close=function(){this.socket&&(this.socket.close(),this.socket=null)},t.onopen=function(e){console.log("socket connect success"),i.inst.emit("INITSOCKET_SUCCESS")},t.onerror=function(e){console.error("==== socket error: %s",e.type)},t.onmessage=function(e){this.recvBuffer.init(e.data);var t=this.recvBuffer.readUInt(),n=this.recvBuffer.readUInt(),r=this.recvBuffer.readStringUTF8(n);this.recvBuffer.resetBuffer(),i.inst.emit("SOCKET_ONGAMEMESSAGE",t,JSON.parse(r))},t.onclose=function(e){var t=this,r=setTimeout((function(){clearTimeout(r);var e=n("gameManager").getComponent(o)._token;t.initSocket(e)}),3e3)},e}())),e("cmd",{CLogin:3,SLogin:4,CBet:100,SBet:101,SGameStart:103,SGameEnd:105,CUserRecord:13,SUserRecord:14});t._RF.pop()}}}));

System.register("chunks:///_virtual/GameTip.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,a,p,c,l,u,s,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,p=t.Node,c=t.Label,l=t.UITransform,u=t.Graphics,s=t.tween,f=t.UIOpacity,h=t.Component}],execute:function(){var d,g,T,y,v,m,b;r._RF.push({},"91065/AAONKDoJPo3yV6L96","GameTip",void 0);var C=a.ccclass,L=a.property;t("GameTip",(d=C("GameTip"),g=L(p),T=L(c),d((m=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"tipBg",m,o(e)),n(e,"tipLabel",b,o(e)),e}i(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.onDestroy=function(){},r.setTip=function(t){this.tipLabel.string=t,this.tipLabel.updateRenderData();var e=this.tipLabel.node.getComponent(l).contentSize.width+60;this.drawBg(e)},r.drawBg=function(t){var e=this.tipBg.getComponent(u),i=this.tipBg.getComponent(l).contentSize.height;e.clear();var n=-t/2,o=-i/2,r=30;e.moveTo(n+r,o),e.lineTo(n+t-r,o),e.quadraticCurveTo(n+t,o,n+t,o+r),e.lineTo(n+t,o+i-r),e.quadraticCurveTo(n+t,o+i,n+t-r,o+i),e.lineTo(n+r,o+i),e.quadraticCurveTo(n,o+i,n,o+i-r),e.lineTo(n,o+r),e.quadraticCurveTo(n,o,n+r,o),e.stroke(),e.fill()},r.showTip=function(t){var e=this;this.setTip(t),s(this.tipBg.getComponent(f)).to(.2,{opacity:255}).delay(3).to(.2,{opacity:0}).call((function(){e.node.destroy()})).start()},e}(h)).prototype,"tipBg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"tipLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./MonkeyTab.ts","./ChoseMedal.ts","./GameManager.ts","./AudioManager.ts","./GameSocket.ts","./LanguageData.ts"],(function(e){var t,n,i,o,a,r,s,h,l,c,u,m,p,d,b,g,C,y,_,f,M,T,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,h=e.Prefab,l=e.Label,c=e.Animation,u=e.find,m=e.instantiate,p=e.Sprite,d=e.RichText,b=e.Component},function(e){g=e.GlobalEvent},function(e){C=e.MonkeyTab},function(e){y=e.ChoseMedal},function(e){_=e.GameManager},function(e){f=e.AudioManager},function(e){M=e.gameSocket,T=e.cmd},function(e){B=e.t}],execute:function(){var N,P,E,k,v,I,A,S,w,G,D,x,z,U,R,L,F,O,H,j,Y,J,K,Q,q;a._RF.push({},"7e40e7B+dhCdp1phogrQu51","GameUI",void 0);var V=r.ccclass,W=r.property;e("GameUI",(N=V("GameUI"),P=W(s),E=W(s),k=W(s),v=W(h),I=W(s),A=W(s),S=W(l),w=W(l),G=W(l),D=W(l),x=W(l),N((R=t((U=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"choseChampion",R,o(t)),i(t,"choseNotChampion",L,o(t)),i(t,"betPlayerArr",F,o(t)),i(t,"choseMedalPre",O,o(t)),i(t,"btnMedal",H,o(t)),i(t,"uiBottomBlack",j,o(t)),i(t,"betMedal",Y,o(t)),i(t,"labRecordArr",J,o(t)),i(t,"labTimer",K,o(t)),i(t,"labScore",Q,o(t)),i(t,"matchNumber",q,o(t)),t._betType=0,t._betPalyerID=0,t._betCountIndex=0,t._gameTickCount=0,t._choseGuess=!1,t._betMedal=0,t._betCount=0,t}n(t,e);var a=t.prototype;return a.start=function(){this.initChoseChampion(),g.inst.on("GAMEUI_BETPALYER",this.onBetPalyer,this),g.inst.on("GAMEUI_CHOSEMEDAL",this.onChoseMedal,this),this.node.getComponent(c).on(c.EventType.FINISHED,this.onAnimationFinished,this),this.initBetMedalCount()},a.onDestroy=function(){g.inst.off("GAMEUI_BETPALYER"),g.inst.off("GAMEUI_BETMEDAL")},a.update=function(e){},a.onAnimationFinished=function(e,t){"tick_start"===t.name?(this.labTimer.string=this._gameTickCount.toString(),this.uiBottomBlack.active=!1,this.schedule(this.updateTimer,1)):"tick_end"===t.name&&g.inst.emit("GAMESCENE_TICKEND")},a.onChoseChampion=function(){0!=this._betType&&(this._choseGuess||(this._betType=0,this.choseChampion.getChildByName("choseNode").active=!0,this.choseNotChampion.getChildByName("choseNode").active=!1,this.betPlayerArr.forEach((function(e,t){e.getComponent(C).setTabBg(0)}))))},a.onChoseNotChampion=function(){1!=this._betType&&(this._choseGuess||(this._betType=1,this.choseChampion.getChildByName("choseNode").active=!1,this.choseNotChampion.getChildByName("choseNode").active=!0,this.betPlayerArr.forEach((function(e,t){e.getComponent(C).setTabBg(1)}))))},a.onBetPalyer=function(e){this._choseGuess||e<=0||e>this.betPlayerArr.length||this._betPalyerID!=e&&(this.betPlayerArr[e-1].getComponent(C).setTabState(!0),this._betPalyerID>0&&this.betPlayerArr[this._betPalyerID-1].getComponent(C).setTabState(!1),this._betPalyerID=e)},a.onBtnMedal=function(e,t){u("audioManager").getComponent(f).playOneShot("click");var n=this.btnMedal.parent,i=n.getChildByName("chose_medal");if(i)i.destroy();else{i=m(this.choseMedalPre),n.addChild(i);var o=this.btnMedal.getPosition();o.y+=290,i.setPosition(o),i.getComponent(y).setBtnMedal(this._betCountIndex)}},a.onBtnGuess=function(){u("audioManager").getComponent(f).playOneShot("click");var e=u("gameManager").getComponent(_);if(this._betPalyerID<=0)e.showTip(B("gameTipChose"));else{var t=u("gameManager").getComponent(_)._betMedalCount;this._betCount=t[this._betCountIndex],e._UserScore<this._betCount?e.showTip(B("gameTipScore")):(this._choseGuess=!0,M.send(T.CBet,{jwt_token:e._jwtToken,runway_id:this._betPalyerID,is_win:0==this._betType,amount:this._betCount}))}},a.onChoseMedal=function(e){var t=u("gameManager").getComponent(_)._betMedalCount;e>=0&&e<t.length&&(this._betCountIndex!=e&&(this._betCountIndex=e,this.btnMedal.getChildByName("count_medal").getComponent(l).string=t[this._betCountIndex].toString()))},a.updateBetMedal=function(e){this._betPalyerID>0&&(this._betMedal+=e,this.betPlayerArr[this._betPalyerID-1].getComponent(C).setBetCount(this._betMedal))},a.updateGameCalc=function(e){this.labRecordArr.forEach((function(t,n){t.string=e[n].toString()}))},a.startGameTick=function(e){this._choseGuess=!1,this._betMedal=0,this._betCount=0,this.betPlayerArr.forEach((function(e,t){e.getComponent(C).setBetCount(0)})),this._gameTickCount=e,this.node.getComponent(c).play("tick_start")},a.updateTimer=function(){this._gameTickCount--,this._gameTickCount>0&&(this.labTimer.string=this._gameTickCount.toString(),3==this._gameTickCount&&u("audioManager").getComponent(f).playOneShot("countdown"))},a.updateMyScore=function(){var e=u("gameManager").getComponent(_)._UserScore;this.labScore.string=B("userScore").replace("%d",e)},a.updateMatchNumber=function(e){this.matchNumber.string=e.toString()},a.gameTickEnd=function(){this.uiBottomBlack.active=!0;var e=this.btnMedal.parent.getChildByName("chose_medal");e&&e.destroy(),this.unschedule(this.updateTimer),this.node.getComponent(c).play("tick_end")},a.initBetMedalCount=function(){var e=u("gameManager").getComponent(_)._betMedalCount;this.btnMedal.getChildByName("count_medal").getComponent(l).string=e[this._betCountIndex].toString();var t=u("gameManager").getComponent(_).getMedalSF();this.btnMedal.getChildByName("ic_medal").getComponent(p).spriteFrame=t},a.initChoseChampion=function(){this.choseChampion.on(s.EventType.TOUCH_END,this.onChoseChampion,this),this.choseNotChampion.on(s.EventType.TOUCH_END,this.onChoseNotChampion,this),this.choseChampion.getChildByName("choseNode").getChildByName("rewardText").getComponent(d).string=B("choseChampionRewardText"),this.choseNotChampion.getChildByName("choseNode").getChildByName("rewardText").getComponent(d).string=B("choseNotChampionRewardText")},a.onGameRecord=function(){var e=u("gameManager").getComponent(_);M.send(T.CUserRecord,{JwtToken:e._jwtToken})},t}(b)).prototype,"choseChampion",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(U.prototype,"choseNotChampion",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"betPlayerArr",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(U.prototype,"choseMedalPre",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"btnMedal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"uiBottomBlack",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"betMedal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"labRecordArr",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(U.prototype,"labTimer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"labScore",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"matchNumber",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=U))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,s;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,s=n.EventTarget}],execute:function(){e._RF.push({},"32071yE1jFA+q1Uoy1DFUst","GlobalEvent",void 0),n("GlobalEvent",function(){function n(){}return t(n,null,[{key:"inst",get:function(){return n._classInstance||(n._classInstance=new s),n._classInstance}}]),n}())._classInstance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/GuessResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./LanguageData.ts"],(function(e){var t,r,i,n,u,a,l,s,o,p,c,f,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){u=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.SpriteFrame,o=e.Label,p=e.find,c=e.Component},function(e){f=e.AudioManager},function(e){m=e._language,g=e.t}],execute:function(){var S,b,h,y,F,d,v,w,R,x,z,T,G;u._RF.push({},"22504mm9klGf7swvcRVu6LI","GuessResult",void 0);var L=a.ccclass,M=a.property;e("GuessResult",(S=L("GuessResult"),b=M(l),h=M(s),y=M(o),F=M(s),d=M(s),S((R=t((w=function(e){function t(){for(var t,r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return t=e.call.apply(e,[this].concat(u))||this,i(t,"resultSpr",R,n(t)),i(t,"resultSpFrame",x,n(t)),i(t,"resultText",z,n(t)),i(t,"resultSpFrameEs",T,n(t)),i(t,"resultSpFramePt",G,n(t)),t}r(t,e);var u=t.prototype;return u.start=function(){},u.update=function(e){},u.setResult=function(e,t){var r=this.resultSpFrame;"es"===m?r=this.resultSpFrameEs:"pt"===m&&(r=this.resultSpFramePt),t>0?(p("audioManager").getComponent(f).playOneShot("win"),this.resultSpr.spriteFrame=r[1],this.resultText.string=g("resultTextSuc").replace("%b",e).replace("%w",t)):(p("audioManager").getComponent(f).playOneShot("fail"),this.resultSpr.spriteFrame=r[0],this.resultText.string=g("resultTextFail"))},t}(c)).prototype,"resultSpr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"resultSpFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(w.prototype,"resultText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"resultSpFrameEs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(w.prototype,"resultSpFramePt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w))||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./Constants.ts"],(function(t){var e,i,n,r,o,u,l,s,a,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,l=t.Label,s=t.Color,a=t.Component},function(t){c=t.t},function(t){p=t.Constants}],execute:function(){var y,m,b,f,g,h,w,R,_,d,C,z,D,I,v,E,L;o._RF.push({},"450b2uGMCBJt5iApLXI3Tdh","HistoryItem",void 0);var A=u.ccclass,B=u.property;t("HistoryItem",(y=A("HistoryItem"),m=B(l),b=B(l),f=B(l),g=B(l),h=B(l),w=B(l),R=B(l),y((C=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,n(e,"myChoice",C,r(e)),n(e,"myBet",z,r(e)),n(e,"betType",D,r(e)),n(e,"myResult",I,r(e)),n(e,"winCount",v,r(e)),n(e,"finalResult",E,r(e)),n(e,"issueID",L,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.initData=function(t){this.issueID.string=t.issue_id.toString(),this.myChoice.string=c(p.PLAYER_NAME[t.bet_room_id-1]),this.myBet.string=t.bet_amount.toString(),this.betType.string=t.is_win?c("betChampion"):c("betNotChampion"),t.reward_amount>0?(this.myResult.string=c("guessSuccess"),this.myResult.color=s.GREEN):(this.myResult.string=c("guessFail"),this.myResult.color=s.RED),this.winCount.string=t.reward_amount.toString(),this.finalResult.string=c(p.PLAYER_NAME[t.reward_room_id-1])},e}(a)).prototype,"myChoice",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(d.prototype,"myBet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(d.prototype,"betType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(d.prototype,"myResult",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"winCount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(d.prototype,"finalResult",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(d.prototype,"issueID",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/i18nMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,n,r,i,a,o,u,c,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,u=e.Enum,c=e.Component},function(e){s=e.init,l=e.updateSceneRenderers}],execute:function(){var p,g,f,h,y;a._RF.push({},"12ffawbJntKDqr6zBV6BSri","i18nMgr",void 0);var d=o.ccclass,v=o.property,z=u({zh:0,es:1,pt:2}),b=["zh","es","pt"];e("i18nMgr",(p=d("i18nMgr"),g=v({type:z}),p((y=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"language",y,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){b[this.language]&&(s(b[this.language]),l())},a.update=function(e){},t}(c)).prototype,"language",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.zh}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.director}],execute:function(){e({init:t,t:function(e){var n=window;if(!n.languages)return e;for(var a=e.split("."),t=n.languages[r],u=0;u<a.length;u++)if(!(t=t[a[u]]))return"";return t||""},updateSceneRenderers:u}),n._RF.push({},"b3f01X4Ik5LEbIPKXZr3JWD","LanguageData",void 0);var r=e("_language","zh");e("ready",!1);function t(n){e("ready",!0),r=e("_language",n)}function u(){for(var e=a.getScene().children,n=[],r=0;r<e.length;++r){var t=e[r].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(n,t)}for(var u=0;u<n.length;++u){var i=n[u];i.node.active&&i.updateLabel()}for(var o=[],g=0;g<e.length;++g){var c=e[g].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var p=o[l];p.node.active&&p.updateSprite()}}window._languageData={get language(){return r},init:function(e){t(e)},updateSceneRenderers:function(){u()}},n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(e){var n,t,o,r,i,a,s,l,u,c,d,p,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.ProgressBar,l=e.Button,u=e.Label,c=e.Node,d=e.director,p=e.Component},function(e){g=e.GlobalEvent}],execute:function(){var f,S,b,h,m,y,v,L,P,C,T,w,z;i._RF.push({},"a4464vwj6ZJ0K+CR5Dtu8sA","LoadScene",void 0);var M=a.ccclass,E=a.property;e("LoadScene",(f=M("LoadScene"),S=E(s),b=E(l),h=E(u),m=E(c),y=E(c),f((P=n((L=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"loadProgress",P,r(n)),o(n,"btnStart",C,r(n)),o(n,"progressValueTip",T,r(n)),o(n,"gameManager",w,r(n)),o(n,"audioManager",z,r(n)),n}t(n,e);var i=n.prototype;return i.start=function(){d.addPersistRootNode(this.gameManager),d.addPersistRootNode(this.audioManager),this.btnStart.enabled=!1,g.inst.on("INITSOCKET_SUCCESS",this.onSocketSuccess,this)},i.onDestroy=function(){g.inst.off("INITSOCKET_SUCCESS")},i.update=function(e){},i.onLoading=function(e,n,t){var o=e/n;o>this.loadProgress.progress&&(this.loadProgress.progress=o,this.progressValueTip.string=(100*o).toFixed(2)+"%")},i.onLoadFinish=function(e){e?console.log(e.message):d.loadScene("GameScene")},i.onBtnStart=function(){d.loadScene("GameScene"),this.btnStart.enabled=!1},i.onSocketSuccess=function(){d.preloadScene("GameScene",this.onLoading.bind(this),this.onLoadFinish.bind(this))},n}(p)).prototype,"loadProgress",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"btnStart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(L.prototype,"progressValueTip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(L.prototype,"gameManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(L.prototype,"audioManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=L))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,o,a,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.createClass,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,c=e.Component},function(e){s=e.ready,u=e.init,p=e.t}],execute:function(){var y,d,b,f,h,L;a._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);var g=l.ccclass,v=l.property,k=l.executeInEditMode;e("LocalizedLabel",(y=g("LocalizedLabel"),d=v({visible:!1}),b=v({displayName:"Key",visible:!0}),y(f=k((L=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).label=null,n(t,"key",L,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){s||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Label");if(e)return this.label=e,void this.updateLabel()},a.updateLabel=function(){this.label&&(this.label.string=p(this.key))},r(t,[{key:"_key",get:function(){return this.key},set:function(e){this.updateLabel(),this.key=e}}]),t}(c)).prototype,"key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(h.prototype,"_key",[b],Object.getOwnPropertyDescriptor(h.prototype,"_key"),h.prototype),f=h))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,a,o,p,s,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.SpriteFrame,s=e.Component},function(e){c=e.ready,u=e.init,l=e._language}],execute:function(){var f,h,d,g,y,z,L,m,b,v,S;a._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);var F=o.ccclass,_=o.property,w=o.executeInEditMode,D=(f=F("LocalizedSpriteItem"),h=_({type:p}),f((y=t((g=function(){i(this,"language",y,this),i(this,"spriteFrame",z,this)}).prototype,"language",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"zh"}}),z=t(g.prototype,"spriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d);e("LocalizedSprite",(L=F("LocalizedSprite"),m=_({type:D}),L(b=w((S=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,i(t,"spriteList",S,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){c||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Sprite");if(e)return this.sprite=e,void this.updateSprite()},a.updateSprite=function(){for(var e=0;e<this.spriteList.length;e++){var t=this.spriteList[e];if(t.language===l){this.sprite.spriteFrame=t.spriteFrame;break}}},t}(s)).prototype,"spriteList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AudioManager.ts","./Constants.ts","./GameManager.ts","./GlobalEvent.ts","./i18nMgr.ts","./ChoseMedal.ts","./GameHistory.ts","./GameRank.ts","./GameRun.ts","./GameScene.ts","./GameTip.ts","./GameUI.ts","./GuessResult.ts","./HistoryItem.ts","./LoadScene.ts","./Monkey.ts","./MonkeyTab.ts","./PlayersMgr.ts","./PropItem.ts","./RunRank.ts","./DataBuffer.ts","./GameSocket.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Monkey.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GlobalEvent.ts"],(function(e){var t,n,i,o,s,p,a,r,d,h,_,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,p=e._decorator,a=e.Animation,r=e.UITransform,d=e.randomRange,h=e.Component},function(e){_=e.Constants},function(e){u=e.GlobalEvent}],execute:function(){var S,E,c;s._RF.push({},"645e8n0fjhPjbn30zyB8p+W","Monkey",void 0);var l=p.ccclass,T=p.property;e("Monkey",l("Monkey")((c=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),p=0;p<n;p++)s[p]=arguments[p];return t=e.call.apply(e,[this].concat(s))||this,i(t,"playerID",c,o(t)),t._curState=_.MONKEY_STATE.IDLE,t._isSlow=!1,t._isSpeedUp=!1,t._endLine=!1,t._monkeySpeed=0,t._runTotalTime=0,t._updateSpeed=!1,t}n(t,e);var s=t.prototype;return s.start=function(){},s.update=function(e){if(this._curState==_.MONKEY_STATE.RUN){var t=this.node.getPosition();t.x+=this._monkeySpeed*e,this.node.setPosition(t),this._updateSpeed?this._endLine?t.x>=_.RUNWAY_LENGTH&&(u.inst.emit("GAMESCENE_RUNEND"),this.resetMonkey()):t.x>=_.ENDLINE_X&&(u.inst.emit("GAMERUN_SHOWRANKANI",this.playerID),this._endLine=!0):t.x>=_.ENDLINE_X/2&&(this.updateMonkeySpeed(),this._updateSpeed=!0)}},s.setMonkeyState=function(e){e==_.MONKEY_STATE.IDLE?(this.node.getComponent(a).play("idle"),this._curState=_.MONKEY_STATE.IDLE):e==_.MONKEY_STATE.RUN?(this.node.getComponent(a).play("run"),this._curState=_.MONKEY_STATE.RUN,this.randomMonkeySpeed()):e==_.MONKEY_STATE.WALK&&(this.node.getComponent(a).play("walk"),this._curState=_.MONKEY_STATE.WALK)},s.slow=function(){var e=this;this._curState==_.MONKEY_STATE.RUN&&(this.node.getComponent(a).play("slow"),this.node.getComponent(a).getState("slow").speed=.8,this._isSlow=!0,setTimeout((function(){e._isSlow&&(e.node.getComponent(a).play("run"),e._isSlow=!1)}),1e3*_.PROPS_TIME))},s.setPropState=function(e){0==e?this.speedUp():this.slow()},s.speedUp=function(){var e=this;if(this._curState==_.MONKEY_STATE.RUN){var t=this.node.getChildByName("speedUp");t&&(t.active=!0,t.getComponent(a).play(),this._isSpeedUp=!0,this.node.getComponent(a).getState("run").speed=2),setTimeout((function(){e._isSpeedUp&&e.endSpeedUp()}),1e3*_.PROPS_TIME)}},s.resetMonkey=function(){var e=this.node.getPosition(),t=this.node.getComponent(r).contentSize;this.setMonkeyState(_.MONKEY_STATE.IDLE),e.x=t.width/2,this.node.setPosition(e),this._endLine=!1,this._runTotalTime=0,this._updateSpeed=!1,this._isSlow=!1,this._isSpeedUp&&this.endSpeedUp()},s.updateMonkeySpeed=function(){if(!(this._runTotalTime<=0)){var e=this.node.getPosition(),t=this.node.getComponent(r).contentSize,n=(e.x-t.width/2)/this._monkeySpeed,i=(_.ENDLINE_X-e.x)/(this._runTotalTime-n);i>0&&(this._monkeySpeed=i)}},s.setRunTotalTime=function(e){this._runTotalTime=e},s.randomMonkeySpeed=function(){this._monkeySpeed=d(_.MONKEY_SPEED[0],_.MONKEY_SPEED[1])},s.getSpeedChange=function(){if(this._curState!=_.MONKEY_STATE.RUN||this._runTotalTime<=0)return 1;var e=(_.ENDLINE_X/2-this.node.getComponent(r).contentSize.width/2)/this._monkeySpeed,t=_.ENDLINE_X/2/(this._runTotalTime-e);return t-this._monkeySpeed>=20?0:t-this._monkeySpeed<=-20?2:1},s.endSpeedUp=function(){var e=this.node.getChildByName("speedUp");e&&(e.getComponent(a).stop(),e.active=!1),this.node.getComponent(a).getState("run").speed=1,this._isSpeedUp=!1},t}(h)).prototype,"playerID",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=E))||S);s._RF.pop()}}}));

System.register("chunks:///_virtual/MonkeyTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./Constants.ts","./LanguageData.ts","./GameManager.ts"],(function(e){var t,i,n,a,r,o,l,s,p,u,c,b,h,g,m,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.SpriteFrame,s=e.Sprite,p=e.Label,u=e.Node,c=e.find,b=e.Animation,h=e.Component},function(e){g=e.GlobalEvent},function(e){m=e.Constants},function(e){y=e.t},function(e){f=e.GameManager}],execute:function(){var d,M,v,F,S,B,C,_,E,N,T,L,w,z,D,A;r._RF.push({},"a3f56l76NVGkJzjFWd7Q4Sr","MonkeyTab",void 0);var k=o.ccclass,G=o.property;e("MonkeyTab",(d=k("MonkeyTab"),M=G(l),v=G(l),F=G(s),S=G(s),B=G(p),C=G(u),d((N=t((E=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"playerSprFrames",N,a(t)),n(t,"tabBgFrames",T,a(t)),n(t,"playerID",L,a(t)),n(t,"tabBg",w,a(t)),n(t,"playerSpr",z,a(t)),n(t,"playerName",D,a(t)),n(t,"betMedal",A,a(t)),t._tabLight=!1,t}i(t,e);var r=t.prototype;return r.start=function(){this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.initView()},r.update=function(e){},r.initView=function(){var e=this.playerID-1;this.playerSprFrames[e]&&(this.playerSpr.spriteFrame=this.playerSprFrames[e]),m.PLAYER_NAME[e]&&(this.playerName.string=y(m.PLAYER_NAME[e]));var t=c("gameManager").getComponent(f).getMedalSF();this.betMedal.getChildByName("ic_medal").getComponent(s).spriteFrame=t},r.setTabState=function(e){e!=this._tabLight&&(this._tabLight=e,this._tabLight?(this.node.getChildByName("light").active=!0,this.node.getComponent(b).play()):(this.node.getChildByName("light").active=!1,this.node.getComponent(b).stop(),this.playerSpr.node.setScale(1,1)))},r.setTabBg=function(e){this.tabBg.spriteFrame=0==e?this.tabBgFrames[0]:this.tabBgFrames[1]},r.onTouchEnd=function(){g.inst.emit("GAMEUI_BETPALYER",this.playerID)},r.setBetCount=function(e){e<=0?this.betMedal.active=!1:(this.betMedal.active||(this.betMedal.active=!0),this.betMedal.getChildByName("count_medal").getComponent(p).string=e.toString())},t}(h)).prototype,"playerSprFrames",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(E.prototype,"tabBgFrames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(E.prototype,"playerID",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(E.prototype,"tabBg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"playerSpr",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"playerName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"betMedal",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayersMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Monkey.ts","./Constants.ts","./PropItem.ts"],(function(e){var t,r,n,o,i,a,s,p,u,c,l,h,y,f,m,g,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,p=e.Prefab,u=e.UITransform,c=e.Vec2,l=e.randomRangeInt,h=e.instantiate,y=e.randomRange,f=e.Component},function(e){m=e.Monkey},function(e){g=e.Constants},function(e){P=e.PropItem}],execute:function(){var A,I,d,v,_,E,T;i._RF.push({},"a77bbTq4TRJhqfAjeH0gFJo","PlayersMgr",void 0);var k=a.ccclass,C=a.property;e("PlayersMgr",(A=k("PlayersMgr"),I=C(s),d=C(p),A((E=t((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"monkeyPlayerArr",E,o(t)),n(t,"propItemPre",T,o(t)),t._proItemArr=[],t}r(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){var t=this;this._proItemArr.length>0&&this._proItemArr.forEach((function(e,r){var n=e.getComponent(P)._playerIndex,o=t.monkeyPlayerArr[n].getPosition();if(e.getComponent(u).getBoundingBox().contains(new c(o.x,o.y))){var i=e.getComponent(P)._propType;t.monkeyPlayerArr[n].getComponent(m).setPropState(i),e.destroy(),t._proItemArr.splice(r,1)}}))},i.readyRun=function(){this.monkeyPlayerArr.forEach((function(e,t){e.getComponent(m).setMonkeyState(g.MONKEY_STATE.WALK)}))},i.startRun=function(){this.monkeyPlayerArr.forEach((function(e,t){e.getComponent(m).setMonkeyState(g.MONKEY_STATE.RUN)}))},i.generateRunTotalTime=function(e){var t=this,r=[13.6,15,16,17,18.5,20];r.sort(),e.forEach((function(e,n){var o=e-1;t.monkeyPlayerArr[o].getComponent(m).setRunTotalTime(r[n])})),this.generatePropItems()},i.generatePropItems=function(){var e=this;this._proItemArr.length>0&&(this._proItemArr.forEach((function(e,t){e.destroy()})),this._proItemArr=[]);var t=[],r=[];this.monkeyPlayerArr.forEach((function(e,n){var o=e.getComponent(m).getSpeedChange();0==o?t.push(n):2==o&&r.push(n)}));var n=[],o=[];if(t.length>0){var i=l(0,t.length);n.push(t[i]),o.push(0)}if(r.length>0){var a=l(0,r.length);n.push(r[a]),o.push(1)}n.length>0&&n.forEach((function(t,r){var n=h(e.propItemPre);if(n){var i=y(g.PROPITEM_POSRANGE[0],g.PROPITEM_POSRANGE[1]);e.node.addChild(n),n.setSiblingIndex(0),n.getComponent(P).initProp(o[r],t),n.setPosition(i,e.monkeyPlayerArr[t].getPosition().y-30),e._proItemArr.push(n)}}))},t}(f)).prototype,"monkeyPlayerArr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(_.prototype,"propItemPre",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/PropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,n,o,p,c,a,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,p=r._decorator,c=r.Sprite,a=r.SpriteFrame,l=r.Component}],execute:function(){var u,s,f,y,h,m,P;o._RF.push({},"8543bnE7HlL4p4111JskvAc","PropItem",void 0);var b=p.ccclass,d=p.property;r("PropItem",(u=b("PropItem"),s=d(c),f=d(a),u((m=e((h=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),p=0;p<t;p++)o[p]=arguments[p];return e=r.call.apply(r,[this].concat(o))||this,i(e,"iconProp",m,n(e)),i(e,"iconSprArr",P,n(e)),e._propType=0,e._playerIndex=0,e}t(e,r);var o=e.prototype;return o.start=function(){},o.update=function(r){},o.initProp=function(r,e){this.iconProp.spriteFrame=this.iconSprArr[r],this._propType=r,this._playerIndex=e},e}(l)).prototype,"iconProp",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(h.prototype,"iconSprArr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/RunRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(r){var n,e,t,a,i,o,u,s,p,c,l,m,h,k;return{setters:[function(r){n=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){i=r.cclegacy,o=r._decorator,u=r.Node,s=r.SpriteFrame,p=r.find,c=r.Sprite,l=r.tween,m=r.Vec3,h=r.Component},function(r){k=r.AudioManager}],execute:function(){var f,g,R,d,y,F,b,v,N;i._RF.push({},"86a86l8QhxAPKDTGyRlZTwQ","RunRank",void 0);var S=o.ccclass,_=o.property;r("RunRank",(f=S("RunRank"),g=_(u),R=_(s),d=_(s),f((b=n((F=function(r){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i))||this,t(n,"runRankArr",b,a(n)),t(n,"rankNumSprFrames",v,a(n)),t(n,"rankBgSprFrames",N,a(n)),n._rankNum=0,n}e(n,r);var i=n.prototype;return i.start=function(){},i.update=function(r){},i.showRankAni=function(r){this.node.active||(this.node.active=!0);var n=this.runRankArr[r-1];n&&(p("audioManager").getComponent(k).playOneShot("pass_end"),n.getChildByName("rankNum").getComponent(c).spriteFrame=this.rankNumSprFrames[this._rankNum],0==this._rankNum?n.getComponent(c).spriteFrame=this.rankBgSprFrames[0]:n.getComponent(c).spriteFrame=this.rankBgSprFrames[1],this._rankNum++,l(n).by(.2,{position:new m(-760,0,0)}).start())},i.resetRank=function(){this._rankNum=0,this.runRankArr.forEach((function(r,n){r.setPosition(0,-5-166*n)})),this.node.active=!1},n}(h)).prototype,"runRankArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(F.prototype,"rankNumSprFrames",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(F.prototype,"rankBgSprFrames",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=F))||y));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});